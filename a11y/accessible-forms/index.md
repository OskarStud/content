---
title: "Доступные формы"
description: "Рекомендации по созданию доступных форм: валидация, элементы управления и их атрибуты."
authors:
  - OskarStud
related:
  - a11y/chto-takoe-a11y
  - a11y/screenreaders
  - a11y/a11y-html
tags:
  - article
---

## Кратко

Важно сделать форму доступной т. к. формы могут быть визуально и когнитивно сложными. Такие формы ставят пользователя в тупик и он просто уходит с сайта. Доступными формами легче пользоваться всем, включая людей с ограниченными возможностями.

Сделать форму доступной помогут такие принципы как логичность и простота использования формы, осведомленность пользователя об ошибках и форматах данных. Форма должна иметь связанные [`<label>`](/html/label/) c элементами управления формой.

## Общие принципы доступности формы

### Пользователь понимает назначение поля формы

Каждый элемент управления формой должен иметь связанный с ним `<label>` элемент.

Элемент `<label>` описывает назначение элемента управления формой. `<label>` Текст визуально связан с элементом управления формой и считывается средствами чтения с экрана.

Кроме того, нажатие на `<label>` фокусирует связанный элемент управления формой, делая его более крупным объектом.

### Использовать осмысленные и семантические HTML тэги для доступа к встроенным функциям браузера

Встроенные элементы формы предоставляют множество встроенных функций. Взглянем на пример:
```html
<main>
  <div class="wrapper">
    <form>
      <div>
         <label for="firstname">
           Имя
         </label>
         <input type="text" id="firstname" name="firstname" required>
      </div>
      <div class="looks-like-label" for="secondname">
        Фамилия
      </div>
      <div id="secondname" class="looks-like-input" contenteditable></div>
      <button>
        Save
      </button>
    </form>
  </div>
</main>
```

Нажатие на Secondname никак не фокусирует то к чему он прилагается. В то время как `<label>` и `<input>` связаны с помощью `for`.

Программы чтения с экрана не распознают элемент `<div>` как элемент ввода и не сможет заполнить форму.  В нашем примере пользователь услышит только Secondname, без указания того, что данный элемент является элементом управления формой для добавления текста.

После отправки данных из формы, введенные данные в `<div>` не включаться в запрос. Да да, технически через JavaScript возможно сделать отправку данных, но `<input>` это делает по-умолчанию.

При разных `type` или `inputmode` на экране отображаются соответствующие символы. В `<div>` при `inputmode` так не происходит.

### Пользователь легко ориентируется в форме

Во-первых необходимо дать знать пользователю какой именно элемент в форме активен. Реализовать это можно с помощью псевдо-класса `:focus` либо `:focuse-visible`.

Во-вторых визуальный порядок элементов соответствует порядку DOM. То есть фокус должен следовать порядку чтения, перемещаясь слева направо, сверху вниз страницы.

### Пользователь осведомлен об ожидаемом формате данных в форме

Рассмотрим на примере. Допустим у нас есть проверка для поля ввода имени, минимум 8 символов.

```html
<main>
  <div class="wrapper">
    <form>
      <div>
        <label for="name">Имя (обязательно)</label>
        <input required minlength="8" type="text" id="name" name="name" aria-describedby="name-validation">
        <span id="validation-name" class="validation-message">Имя должно содержать как минимум 8 символов.</span>
      </div>
      <button>Сохранить</button>
    </form>
  </div>
</main>
```

Чтобы рассказать пользователю об этих правилах достаточно добавить информацию об ожидаемом формате непосредственно под элементом управления формой. Для вспомогательных устройств используйте `aria-describedby` атрибут в элементе управления формой (в нашем примере `<input>`) и `id` атрибут в сообщении с таким же значением для подключения обоих.

### Пользователь осведомлен об ошибках и успехе в форме

Например, если поле имеет `required` атрибут и введены неверные данные, при отправке формы браузер отображает сообщение об ошибке рядом с элементом управления формой.Программы чтения с экрана также выдают сообщение об ошибке.

После верного заполнения формы и успешной отправки выводить пользователю сообщение об успехе.

## Подробнее об валидации формы

Парочка рекомендаций для валидации формы, чтобы она стала доступнее для всех посетителей вашего сайта.

1. Используйте явные сообщения об ошибках, которые будут четко указывать, что именно необходимо исправить. В сообщении должно быть понятно, какое поле содержит ошибку и как ее исправить.
1. Обеспечьте возможность перемещаться по форме, чтобы найти ошибку, и исправить ее. Для этого можно использовать фокусировку на поле с ошибкой при нажатии на сообщение об ошибке.
1. Используйте атрибуты `aria-invalid` и `aria-describedby`, чтобы помочь пользователям обнаруживать ошибки и понимать, как их исправить. Атрибут `aria-invalid` указывает, что поле содержит ошибку, а `aria-describedby` используется для связывания сообщения об ошибке с полем формы.
1. Убедитесь, что сообщения об ошибках читаются скринридером. Для этого можно использовать свойства `role` и `aria-live`. Например, установите `role="alert"` и `aria-live="assertive"` для сообщения об ошибке, чтобы оно мгновенно читалось скринридером.
1. Предоставьте возможность пользователю вернуться к полю, в котором была допущена ошибка. Можно использовать ссылку или кнопку, чтобы вернуться к полю с ошибкой.

## Подробнее об элементах управления формой(контролах)

Основной элемент управления формой это [`<label>`](/html/input/). Быстро пробежимся по основным типам которые встречаются в форме.

### Text

```html
<label for="name">Введите имя:</label>
<input id="name" type="text" autocomplete="name" >
```

Повторюсь совпадающие `for` и `id` значения связывают метку с элементом управления формой. Поскольку id значения атрибутов должны быть уникальными на каждой странице, элемент управления формой может иметь только одно связанное значение `<label>`.

Также можно создать ассоциацию, поместив текст метки и входные данные внутри `<label>` элемента ( не используя `for` и `id`).

### Checkbox

```html
<fieldset>
  <legend>Выберите топпинг:</legend>
  <input id="bacon" type="checkbox" name="toppings" value="bacon">
  <label for="ham">Бекон</label><br>
  <input id="pepperoni" type="checkbox" name="toppings" value="pepperoni">
  <label for="pepperoni">Пепперони</label><br>
  <input id="mushrooms" type="checkbox" name="toppings" value="mushrooms">
  <label for="mushrooms">Грибы</label><br>
  <input id="olives" type="checkbox" name="toppings" value="olives">
  <label for="olives">Оливки</label>
</fieldset>
```

`<fieldset>` Содержит группу `checkbox`, а `<legend>` помечает группу. Скринридеры могут повторять условные обозначения для каждого элемента управления в группе, поэтому текст условных обозначений должен быть кратким и описательным.

### Email

```html
<label for="email">Введите свой email: </label>
<input type="email" name="email" id="email">
```

### Password

```html
<label for="userPassword">Введите свой пароль:</label>
<input id="userPassword" type="password">
```

### Radio

```html
<fieldset>
  <legend>Выберите время доставки:</legend>
  <input id="night" type="radio" name="shipping" value="night">
  <label for="night">Ночь</label>
  <input id="day" type="radio" name="shipping" value="day">
  <label for="day">День</label>
  <input id="morning" type="radio" name="shipping" value="morning">
  <label for="morning">Утро</label>
</fieldset>
```

`<fieldset>` и `<legend>` следует использовать только тогда, когда необходима метка более высокого уровня. Отдельные `checkbox` или `radio`, у которых есть свои смысловые `<label>`, не требуют `<fieldset>` и `<legend>`.

Вложенные `<fieldset>` могут вызывать странное поведение у скринридеров, и их следует избегать.

### Select

```html
<label for="favCity">Выберите любимый город:</label>
<select id="favCity" name="select">
<option value="amsterdam">Амстердам</option>
<option value="paris">Париж</option>
<option value="rome">Рим</option>
</select>
```

Длинные списки параметров можно сгруппировать с помощью `<optgroup>`. Однако `<optgroup>` иногда игнорируется скринридерами, не полагайтесь на этот метод для передачи важной информации.

### Buttons

```html
<button>Activate</button>
<input type="submit" name="submit" value="Отправить">
<input type="reset" name="reset" value="Сбросить">
```

Скринридер читают вложенный текст для `<button>` и `value` атрибут для кнопок ввода. Кнопки формы никогда не должны быть пустыми.

Кнопки c типом `reset` не следует использовать без особой необходимости, потому что на них легко нажать по ошибке.

## Важные для доступности атрибуты элементов управления формой

Элементы управления формой могут иметь различные атрибуты, которые определяют их поведение и внешний вид. Некоторые из наиболее распространенных атрибутов включают:

- `required` – указывает, что поле формы обязательно для заполнения.
- `disabled` – указывает, что поле формы недоступно для ввода.
- `readonly` – указывает, что поле формы доступно только для чтения.
- `maxlength` – указывает максимальное количество символов, которое может быть введено в поле формы.
- `pattern` – указывает регулярное выражение, которое должно соответствовать введенным данным.
- `autocomplete` – указывает, должен ли браузер автоматически заполнять поле формы на основе предыдущих вводов пользователя.

## Чего делать не стоит при создании доступной формы

- Не используйте слишком маленькие поля ввода или кнопки, которые могут быть трудными для пользователя с ограниченными возможностями.
- Не создавайте формы, которые невозможно заполнить, используя только клавиатуру. Некоторые пользователи не могут использовать мышь или другие устройства ввода.
- Не используйте только цвет, чтобы указать, какое поле является обязательным. Некоторые пользователи не могут различать разные цвета.
- Не используйте только звуковые индикации для сообщения об ошибках или успехе отправки формы. Некоторые пользователи не могут слышать или понимать звуки.
- Не используйте слишком сложные или запутанные формы. Некоторые пользователи могут испытывать трудности при попытке заполнить форму, которая не имеет ясной структуры или логического порядка.

## Подробнее об `<label>`

Мы часто говорили об элементе `<label>`. Поэтому стоит рассказать о нем по подробнее.

`<label>` имеет ограничения. Он не может предоставить несколько меток для одного элемента управления формой или связать одну метку с несколькими элементами управления формой.

Большинство из этих ограничений можно преодолеть с помощью свойств ARIA и невидимых `<label>`:

- [`aria-labelledby`](/a11y/aria-labelledby/)
- [`aria-describedby`](/a11y/aria-describedby/)
- [`aria-label`](/a11y/aria-label/)

Добавим несколько важных замечаний по каждому из них, в рамках доступности формы.

### Aria-labelledby

Если элемент управления содержит `<label>` и `aria-labelledby`, скринридер будет читать `aria-labelledby` текст вместо связанного `<label>`.

### Aria-describedby

```html
<label for="resetPass">Введите новый пароль:</label>
<input type="password" id="resetpass" aria-describedby="passwordNote"><br>
<span id="passwordNote">Новый пароль должен иметь от 8015 символов включая буквы и цифры.</span>
```

В нашем примере `aria-describedby` указывает на `id` элемент, содержащий требования к паролю. Скринридер обычно считывают `<label>`, затем тип `<input>` (`text`, `checkbox` и т. д., Плюс любые необходимые свойства, например, если поле является обязательным), а затем читают описание. С помощью `aria-describedby` можно ссылаться на несколько элементов. Просто разделите указанные `id` значения пробелами.

Скринридер читает aria-describedby содержимое в дополнение к `<label>`. Поэтому контент внутри `<label>` необходим.

`aria-describedby` также можно использовать для ссылки на описания, которые отображаются в виде `tooltip` (всплывающих подсказок).

### Невидимый `<label>`

Иногда элементы управления формой не нуждаются в видимых `<label>`. Например, текстовый ввод рядом с кнопкой поиска делает ее назначение понятным для зрячих пользователей. Дополнительная визуальная текстовая метка была бы излишней. В таких случаях следует использовать один из следующих трех методов:

- Скрытый `<label>`

Скройте `<label>` с помощью CSS, например убрав элемент за пределы экрана. Метка не будет отображаться визуально, но скриридер все равно прочтёт её.

```html
<label class="hidden" >
  <input type="text" id="searchTerms">
</label>
```

- Атрибут `title`

Если у `<input>` формы есть `title` атрибут, но нет `<label>`, скринридер будут рассматривать `title` как метку. Это также приведет к появлению всплывающей подсказки при наведении курсора мыши, которая может быть как полезной, так и отвлекающей.

```html
<input id="s" type="text" title="Поиск">
```

- aria-label

Данное свойство также замещает `<label>` во время чтения скринридером.

```html
<input id="search" type="text" aria-label="Search Terms">
```

Важно, что следует выполнять только одну из этих рекомендаций. Совместное использование двух или более атрибутов (например, скрытого `<label>` и повторяющегося `title` атрибута) может привести к повторению информации скринридером.

## Проверяйте доступность своих форм

Обязтально проверяйте доступность своих форм. Используйте скринридеры NVDA, VoiceOver и другие. Смотрите на свои формы с помощью инспекторов доступности [Google Chrome](https://developer.chrome.com/docs/devtools/accessibility/reference/#explore-tree) и [Mozilla Firefox](https://firefox-source-docs.mozilla.org/devtools-user/accessibility_inspector/#accessing-the-accessibility-inspector). Можно использовать [валидатор HTML](https://validator.w3.org).
